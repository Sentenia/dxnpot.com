<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DXN Pot</title>
  <meta name="description" content="DXN Pot — Community Pool paying ETH fees." />
  <link rel="icon" type="image/png" href="/favicon.png?v=1" />

  <!-- Premium fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#050814;
      --cardTop: rgba(13, 19, 34, .78);
      --cardBot: rgba(2, 6, 23, .72);
      --stroke: rgba(255,255,255,.085);
      --stroke2: rgba(255,255,255,.06);
      --txt:#e5e7eb;
      --muted:#a3aab7;
      --muted2:#7c8596;

      --yellow:#facc15;
      --yellow2:#f59e0b;
      --black:#000;

      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --shadow2: 0 10px 28px rgba(0,0,0,.35);
      --r16: 18px;
      --r12: 14px;
      --r10: 12px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--txt);
      background: url("/dxn-bg.png") center / cover no-repeat fixed;
      padding: 22px;
    }

    /* subtle top glow */
    body:before{
      content:"";
      position:fixed; inset:-200px -200px auto -200px;
      height:420px;
      background: radial-gradient(closest-side, rgba(250,204,21,.16), transparent 65%);
      pointer-events:none;
      z-index:-1;
      filter: blur(2px);
    }

    .frame{
      width: min(1440px, calc(100vw - 44px));
      max-width: 1440px;
      margin: 0 auto;
      padding: 20px;
      border-radius: 26px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(2,6,23,.38);
      box-shadow: var(--shadow), inset 0 0 0 1px rgba(255,255,255,.03);
      backdrop-filter: blur(12px);
      overflow: hidden;
      position: relative;
    }
    .frame::after{
      content:"";
      position:absolute;
      inset: 0;
      border-radius: 26px;
      pointer-events:none;
      box-shadow:
        0 0 0 1px rgba(255,255,255,.06),
        0 0 120px rgba(250,204,21,.18),
        inset 0 0 60px rgba(250,204,21,.08);
    }

    /* top bar */
    .topbar{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 18px;
      position: relative;
      z-index: 1;
    }

    .tabs{
      display:flex;
      gap:10px;
      align-items:center;
    }

    .tab{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      height: 40px;
      padding: 0 14px;
      border-radius: 12px;
      border: 1px solid var(--stroke);
      background: rgba(2,6,23,.55);
      color: var(--txt);
      text-decoration:none;
      font-weight: 800;
      letter-spacing: .2px;
      transition: transform .12s ease, background .12s ease, border-color .12s ease, opacity .12s ease;
    }
    .tab:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.14); }
    .tab.active{
      background: linear-gradient(180deg, var(--yellow), var(--yellow2));
      color: #000;
      border: 0;
      box-shadow: 0 10px 22px rgba(250,204,21,.18);
    }

    .pill{
      display:flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--stroke);
      background: rgba(2,6,23,.55);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
      min-height: 44px;
      white-space:nowrap;
    }

    .dot{
      width: 10px; height: 10px;
      border-radius: 999px;
      background: #60a5fa;
      box-shadow: 0 0 14px rgba(96,165,250,.45);
    }

    .mono{ font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace; }

    .btn-yellow{
      background: linear-gradient(180deg, var(--yellow), var(--yellow2));
      border: 0;
      color: var(--black);
      font-weight: 900;
      border-radius: 12px;
      padding: 10px 14px;
      cursor:pointer;
      height: 40px;
      box-shadow: 0 10px 22px rgba(250,204,21,.18);
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease, opacity .12s ease;
    }
    .btn-yellow:hover{ transform: translateY(-1px); filter: brightness(1.02); }
    .btn-yellow:active{ transform: translateY(0px); filter: brightness(.98); }
    .btn-yellow[disabled]{ opacity:.55; cursor:not-allowed; transform:none; }

    /* cards */
    .card{
      background: linear-gradient(180deg, var(--cardTop), var(--cardBot));
      border: 1px solid var(--stroke);
      border-radius: var(--r16);
      padding: 18px;
      box-shadow: var(--shadow2), inset 0 0 0 1px rgba(255,255,255,.03);
      position: relative;
      z-index: 1;
    }

    /* HERO cards */
    .hero{
      padding: 26px;
      border-radius: 22px;
      position: relative; /* FIX: makes hero glow behave */
      overflow: hidden;
    }
    .hero:before{
      content:"";
      position:absolute; inset:-1px;
      background:
        radial-gradient(600px 240px at 25% 0%, rgba(250,204,21,.14), transparent 70%),
        radial-gradient(600px 240px at 80% 40%, rgba(96,165,250,.10), transparent 70%);
      pointer-events:none;
      opacity:.9;
    }
    .hero > *{ position:relative; }

    .title{
      margin:0;
      font-size: 26px;
      font-weight: 900;
      letter-spacing: -0.3px;
      line-height: 1.1;
    }

    .sub{
      margin-top: 8px;
      color: var(--muted);
      font-weight: 600;
      font-size: 14px;
    }

    /* Big number aesthetic */
    .prizeRow{
      margin-top: 14px;
      display:flex;
      align-items:baseline;
      gap: 10px;
      flex-wrap:wrap;
    }

    .prize{
      font-size: clamp(44px, 4.2vw, 66px);
      font-variant-numeric: tabular-nums;
      letter-spacing: .04em;
      text-shadow: 0 10px 30px rgba(0,0,0,.55);
      filter: drop-shadow(0 10px 22px rgba(0,0,0,.35));
    }

    .prizeLabel{
      font-size: 14px;
      font-weight: 800;
      color: var(--muted2);
      letter-spacing: .25px;
    }

    .hero-actions{
      margin-top: 14px;
      display:flex;
      align-items:center;
      gap: 12px;
      flex-wrap:wrap;
      max-width: 520px;
    }

    .hero-left{
        position: relative;
        }

        /* header row: title left, button right */
        .heroHead{
        display:flex;
        align-items:flex-start;
        justify-content:space-between;
        gap:14px;
        }

        /* keep button from shrinking + keep it tidy */
        .btn-runlottery{
        flex: 0 0 auto;
        min-width: 180px;
        height: 44px;
        border-radius: 14px;
        }

        /* keep number alignment with the right hero card */
        .prizeRow-even{
        margin-top: 28px; /* alignment knob */
        }

        /* label next to number (matches your current aesthetic) */
        .prizeLabel{
        font-size: 14px;
        font-weight: 800;
        color: var(--muted2);
        letter-spacing: .25px;
        align-self: baseline;
        margin-left: 6px;
        }


    .fine{
      color: var(--muted2);
      font-size: 13px;
      font-weight: 600;
      line-height: 1.35;
    }
    .fine b{ color: var(--yellow); }

    .topRight{
      display:flex;
      gap:12px;
      align-items:center;
      margin-left:auto;
      flex-wrap:wrap;
    }

    .heroGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:14px;
      margin-top:14px;
    }
    @media (max-width: 960px){
      .heroGrid{ grid-template-columns: 1fr; }
    }

    .pageTitle{
      text-align:center;
      font-size: 34px;
      font-weight: 900;
      letter-spacing: .2px;
      margin: 18px 0 10px;
      position: relative;
      z-index: 1;
    }

    .subline{
      display:flex;
      justify-content:center;
      align-items:center;
      gap: 26px;
      flex-wrap:wrap;
      font-size: 16px;
      color: var(--muted);
      margin-bottom: 14px;
      position: relative;
      z-index: 1;
    }
    .subline b{ color: var(--yellow); font-weight:900; }

    .countdownMini{
      display:inline-flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px solid var(--stroke2);
      background: rgba(2,6,23,.36);
    }
    .countdownMini .k{ color: var(--muted2); font-size: 12px; font-weight: 800; letter-spacing:.25px; }
    .countdownMini .v{ color: var(--yellow); font-weight: 900; }

    /* below hero */
    .below{
      margin-top: 14px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 14px;
      position: relative;
      z-index: 1;
    }
    @media (max-width: 960px){
      .below{ grid-template-columns: 1fr; }
    }

    .label{
      font-size: 14px;
      font-weight: 900;
      letter-spacing:.2px;
      margin-bottom: 10px;
    }

    .row{
      display:flex;
      align-items:center;
      gap: 10px;
      flex-wrap:wrap;
    }

    .input{
      width: 170px;
      height: 44px;
      border-radius: 14px;
      border: 1px solid var(--stroke);
      background: rgba(2,6,23,.42);
      color: var(--txt);
      font-size: 14px;
      font-weight: 700;
      outline:none;
      padding: 0 12px;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
      transition: border-color .12s ease, transform .12s ease;
    }
    .input:focus{ border-color: rgba(250,204,21,.35); transform: translateY(-1px); }

    .hint{
      margin-top: 10px;
      color: var(--muted2);
      font-size: 13px;
      font-weight: 600;
    }

    .stats{
      display:flex;
      flex-direction:column;
      gap: 10px;
      font-size: 14px;
      color: var(--muted);
      font-weight: 650;
    }
    .stats .line{
      display:flex;
      justify-content:space-between;
      gap: 12px;
      border-bottom: 1px dashed rgba(255,255,255,.07);
      padding-bottom: 8px;
    }
    .stats .line:last-child{ border-bottom:0; padding-bottom:0; }
    .stats b{ color: var(--yellow); font-weight: 900; }

    .lastRow{
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1fr;
      gap: 14px;
      position: relative;
      z-index: 1;
    }

    /* footer */
    .footer{
      margin-top:40px;
      padding:28px;
      border-top:1px solid rgba(255,255,255,.08);
      background:rgba(2,6,23,.55);
    }

    .footer-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:24px;
    }

    .footer h4{
      margin:0 0 10px;
      font-size:14px;
      font-weight:800;
    }

    .steps{
      list-style:none;
      padding:0;
      margin:0;
    }
    .steps li{
      margin-bottom:10px;
      color:#a3aab7;
    }
    .steps b{ color:#facc15; }

    .links{
      list-style:none;
      padding:0;
      margin:0;
    }
    .links li{ margin-bottom:8px; }
    .links a{
      color:#a3aab7;
      text-decoration:none;
    }
    .links a:hover{ color:#fff; }

    .socials a{
      margin-right:12px;
      padding:8px 10px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,.1);
      color:#fff;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }

    .footer-bar{
      margin-top:20px;
      padding-top:14px;
      border-top:1px solid rgba(255,255,255,.06);
      display:flex;
      justify-content:space-between;
      gap: 10px;
      flex-wrap: wrap;
      font-size:12px;
      color:#7c8596;
    }

    .status{ color:#22c55e; }

    .addrRow{
      display:grid;
      grid-template-columns:64px 1fr;
      gap:10px;
      align-items:center;
      margin-bottom:10px;
    }

    .addrRow .k{
      color:#7c8596;
      font-weight:800;
      font-size:12px;
      letter-spacing:.2px;
    }

    .addrVal{
      color:#a3aab7;
      cursor:pointer;
      user-select:text;
      padding:6px 10px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,.08);
      background: rgba(2,6,23,.25);
      transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease, color .12s ease;
    }

    .addrVal:hover{
      color:#fff;
      border-color: rgba(250,204,21,.28);
      box-shadow: 0 0 0 1px rgba(250,204,21,.15), 0 10px 26px rgba(0,0,0,.35);
      transform: translateY(-1px);
    }

    .addrVal:active{ transform: translateY(0px); }

    .copyToast{
      margin-top:10px;
      display:inline-block;
      padding:8px 10px;
      border-radius:999px;
      background: linear-gradient(180deg, #facc15, #f59e0b);
      color:#000;
      font-weight:900;
      font-size:12px;
    }
  </style>
</head>

<body>
  <div class="frame">

    <div class="topbar">
      <div class="tabs">
        <a class="tab active" href="/pot/">DXN POT</a>
        <a class="tab" href="/burn/">BURN XEN</a>
      </div>

      <div class="topRight">
        <!-- Chain selector -->
        <div class="pill" id="chainPill" title="Chain selector (visual only for now)">
          <span class="dot"></span>
          <span class="mono" style="font-weight:800;">Ethereum</span>
          <span style="opacity:.7;">▼</span>
        </div>

        <!-- Wallet -->
        <div class="pill">
          <span class="dot"></span>
          <span id="ethBal" class="mono" style="font-weight:800;">— ETH</span>
          <span id="addrShort" class="mono" style="opacity:.85;">Not connected</span>
          <button id="connectBtn" class="btn-yellow"
            style="height:40px;padding:0 12px;border-radius:12px;font-weight:900;">
            Connect
          </button>
        </div>
      </div>
    </div>

    <div class="pageTitle">DXN POT — COMMUNITY POOL</div>

    <div class="subline">
      <div>Current Cycle: <b id="currentCycle">—</b></div>
      <div>Last Draw: <b id="lastDrawCycle">—</b></div>

      <div class="countdownMini">
        <span class="k">NEXT DRAW IN</span>
        <span id="nextDraw" class="v mono">—</span>
      </div>
    </div>

    <div class="heroGrid">

    <!-- LEFT HERO -->
    <div class="card hero hero-left">
    <div class="heroHead">
        <div>
        <h2 class="title" style="font-size:22px;margin:0;">ETH Fees</h2>
        <div class="sub">Total ETH to be paid to random winner</div>
        </div>

        <button id="runBtn" class="btn-yellow btn-runlottery">
        CLAIM FEES
        </button>
    </div>

    <div class="prizeRow prizeRow-even">
        <div class="prize mono"><span id="potEth">0.00000</span></div>
        <div class="prizeLabel mono">ETH fees</div>
    </div>
    </div>




      <!-- RIGHT HERO -->
      <div class="card hero">
        <h2 class="title" style="font-size:22px;">Vault Totals</h2>
        <div class="sub">Staked DXN held by the Pot</div>

        <div class="prizeRow" style="margin-top:18px;">
          <div class="prize mono"><span id="potDxn">0.000000</span></div>
          <div class="prizeLabel mono">DXN in pot</div>
        </div>
      </div>

    </div>

    <!-- BELOW HERO -->
    <div class="below">
      <div class="card">
        <div class="label">My Position</div>
        <div class="stats">
          <div class="line"><span>My Deposit</span> <b id="myDep" class="mono">— DXN</b></div>
          <div class="line"><span>My Weight</span> <b id="myWeight" class="mono">— %</b></div>
          <div class="line"><span>Estimated Odds</span> <b id="myOdds" class="mono">— %</b></div>
        </div>
      </div>

      <div class="card">
        <div class="label">Deposit DXN</div>
        <div class="row">
          <input id="depAmt" class="input mono" placeholder="0.0" />
          <button id="depBtn" class="btn-yellow" style="height:44px;border-radius:14px;">
            Deposit &amp; Stake
          </button>
        </div>
        <div class="hint">Deposits activate next cycle.</div>
      </div>

      <div class="card">
        <div class="label">Withdraw DXN</div>
        <div class="row">
          <input id="wdAmt" class="input mono" placeholder="0.0" />
          <button id="wdBtn" class="btn-yellow" style="height:44px;border-radius:14px;">
            Withdraw
          </button>
        </div>
        <div class="hint">Only unlocked DXN is withdrawable.</div>
      </div>
    </div>

    <!-- LAST RESULT -->
    <div class="lastRow">
      <div class="card">
        <div class="label">Last Result</div>
        <div class="stats">
          <div class="line"><span>Last Draw Cycle</span> <b id="lastDrawCycle2" class="mono">—</b></div>
          <div class="line"><span>Winner</span> <b id="lastWinner" class="mono">—</b></div>
          <div class="line"><span>Payout</span> <b id="lastPayout" class="mono">—</b></div>
        </div>
      </div>
    </div>

  </div>

  <footer class="footer">
    <div class="footer-grid">

      <div>
        <h4>How DXN Pot Works</h4>
        <ol class="steps">
          <li><b>Burn XEN</b><br><span>Burn XEN to mint DXN.</span></li>
          <li><b>Earn DXN</b><br><span>DXN minted each cycle.</span></li>
          <li><b>Stake for Fees</b><br><span>Stake DXN to earn ETH fees.</span></li>
        </ol>
      </div>

      <div>
        <h4>Contract Addresses</h4>

        <div class="addrRow">
          <span class="k">XEN</span>
          <span class="addrVal mono" data-copy="0x06450dee7fd2fb8e39061434babcfc05599a6fb8">0x06450d…a6Fb8</span>
        </div>

        <div class="addrRow">
          <span class="k">DBXen</span>
          <span class="addrVal mono" data-copy="0xF5c80c305803280B587F8cabBcCdC4d9BF522AbD">0xF5c80c…22AbD</span>
        </div>

        <div class="addrRow">
          <span class="k">DXN</span>
          <span class="addrVal mono" data-copy="0x80f0c1c49891dcfdd40b6e0f960f84e6042bcb6f">0x80f0c1…2bcB6F</span>
        </div>

        <div id="copyToast" class="copyToast" style="display:none;">Address copied</div>
      </div>

      <div>
        <h4>Resources</h4>
        <ul class="links">
          <li><a href="#">Litepaper</a></li>
          <li><a href="#">GitHub</a></li>
          <li><a href="#">XEN Network</a></li>
        </ul>
      </div>

      <div>
        <h4>Community</h4>
        <div class="socials">
          <a href="#">X</a>
          <a href="#">Telegram</a>
        </div>
      </div>

    </div>

    <div class="footer-bar">
      <span>Community-built interface. Not affiliated with original DBXen team.</span>
      <span class="status">● Connected to Ethereum</span>
    </div>
  </footer>

  <script>
    // Helpers: safely get/set elements (prevents "Cannot set properties of null")
    const $ = (id) => document.getElementById(id);

    function setText(id, value){
      const el = $(id);
      if (el) el.textContent = value;
    }

    // VISUAL MOCK ONLY (no contracts yet)
    const connectBtn = $("connectBtn");
    const runBtn = $("runBtn");
    const nextDrawEl = $("nextDraw");

    // Demo values so it looks alive
    setText("potEth", "0.00000");
    setText("potDxn", "0.000000");
    setText("currentCycle", "—");
    setText("lastDrawCycle", "—");
    setText("myDep", "— DXN");
    setText("myWeight", "— %");
    setText("myOdds", "— %");

    // Fake countdown (placeholder)
    function startFakeCountdown(seconds){
      let s = seconds;
      function tick(){
        if (!nextDrawEl) return;
        if (s < 0) s = 0;
        const h = String(Math.floor(s / 3600)).padStart(2,"0");
        const m = String(Math.floor((s % 3600) / 60)).padStart(2,"0");
        const sec = String(s % 60).padStart(2,"0");
        nextDrawEl.textContent = `${h}:${m}:${sec}`;
        s--;
      }
      tick();
      setInterval(tick, 1000);
    }
    startFakeCountdown(6 * 60 * 60);

    if (connectBtn){
      connectBtn.addEventListener("click", (e) => {
        e.preventDefault();
        alert("Wire wallet later. Visual mock first.");
      });
    }

    if (runBtn){
      runBtn.addEventListener("click", (e) => {
        e.preventDefault();
        alert("Run Lottery will be wired to contracts later.");
      });
    }

    // Footer copy wiring (works even if other ids are missing)
    (function wireFooterCopy(){
      const toast = $("copyToast");

      function showToast(msg){
        if (!toast) return;
        toast.textContent = msg || "Address copied";
        toast.style.display = "inline-block";
        toast.style.opacity = "1";
        clearTimeout(window.__toastT);
        window.__toastT = setTimeout(() => {
          toast.style.opacity = "0";
          setTimeout(() => (toast.style.display = "none"), 200);
        }, 900);
      }

      async function copyText(t){
        try{
          await navigator.clipboard.writeText(t);
          showToast("Address copied");
        }catch{
          const ta = document.createElement("textarea");
          ta.value = t;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand("copy");
          document.body.removeChild(ta);
          showToast("Address copied");
        }
      }

      document.querySelectorAll(".addrVal[data-copy]").forEach(el => {
        el.addEventListener("click", () => {
          const addr = el.getAttribute("data-copy");
          if (addr) copyText(addr);
        });
      });
    })();
  </script>
</body>
</html>
